<mujoco model="hopper_rev09">
  <compiler inertiafromgeom='false' angle="radian"/>
  <option integrator="Euler" timestep="0.001"/>
  <size njmax="500" nconmax="100"/>
  <!-- <default/> -->
  <asset>
    <mesh name="base_link" file="base_link.stl"/>
    <mesh name="Link 0" file="Link 0.stl"/>
    <mesh name="Link 1" file="Link 1.stl"/>
    <mesh name="Link 2" file="Link 2.stl"/>
    <mesh name="Link 3" file="Link 3.stl"/>
    <mesh name="rw0" file="rw0.stl"/>
    <mesh name="rw1" file="rw1.stl"/>
    <mesh name="rwz" file="rwz.stl"/>

    <texture builtin="gradient" height="100" rgb1="1 1 1" rgb2="0 0 0" type="skybox" width="100"/>
    <texture builtin="flat" height="1278" mark="cross" markrgb="1 1 1" name="texgeom" random="0.01" rgb1="0.8 0.6 0.4" rgb2="0.8 0.6 0.4" type="cube" width="127"/>
    <texture builtin="checker" height="100" name="texplane" rgb1="0 0 0" rgb2="0.8 0.8 0.8" type="2d" width="100"/>
    <material name="MatPlane" reflectance="0.5" shininess="1" specular="1" texrepeat="60 60" texture="texplane"/>
    <material name="geom" texture="texgeom" texuniform="true"/>

  </asset>
  <worldbody>
    <light cutoff="100" diffuse="1 1 1" dir="-0 0 -1.3" directional="true" exponent="1" pos="0 0 1.3" specular=".1 .1 .1"/>
    <!-- <geom conaffinity="1" condim="3" material="MatPlane" name="floor" pos="0 0 0" rgba="0.8 0.9 0.8 1" size="40 40 40" type="plane"/> -->
    <geom conaffinity="1" condim="3" material="MatPlane" name="floor" pos="0 0 0" rgba="0.8 0.9 0.8 1" size="40 40 40" type="plane" friction="4 0.01 0.01" solimp="8 10 0.001 0.5 2" solref="0.01 0.25"/>

    <body name="base_link" pos="0 0 0.5" quat="1 0 0 0">
      <site name='imu' size='0.01' pos='0 0 0'/>
      <inertial pos="-0.00339109 0.00002012 0.01658516" quat="1 0 0 0" mass="4.78288893" diaginertia="0.03815018 0.02008838 0.03960699"/>
      <!-- <inertial pos="-0.00339109 0.00002012 0.01658516" quat="1 0 0 0" mass="4.78288893" fullinertia="0.03815018 0.02008838 0.03960699 0.00000750 -0.00166109 -0.00001436"/> -->
      <joint type="free" stiffness="0" damping="0" frictionloss="0" armature="0"/>
      <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.752941 0.752941 0.752941 1" mesh="base_link"/>
      <geom type="mesh" rgba="0.752941 0.752941 0.752941 1" mesh="base_link"/>
      <body name="Link 0" pos="0 0 0" quat="0.965926 0 0.258819 0">
        <site name="tau0"/>
        <inertial pos="0.00533299 0.0313631 0.000493209" quat="0.530362 0.492963 0.467911 0.506717" mass="0.585808" diaginertia="0.00042296 0.00083894 0.00063126"/>
        <joint name="Joint 0" pos="0 0 0" axis="0 -1 0" limited="true" range="-3.14 3.14"/>
        <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.752941 0.752941 0.752941 1" mesh="Link 0"/>
        <geom type="mesh" rgba="0.752941 0.752941 0.752941 1" mesh="Link 0"/>
        <body name="Link 1" pos="0.1 0 0" quat="0.5 0 0.866025 0">
          <inertial pos="0.135392 0.0069372 5.37952e-09" quat="0.5 0.5 0.5 0.5" mass="0.0809766" diaginertia="0.00000391 0.00068989 0.00068741"/>
          <joint name="Joint 1" pos="0 0 0" axis="0 -1 0" range="-0.7597 1.8295"/>
          <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.752941 0.752941 0.752941 1" mesh="Link 1"/>
          <geom type="mesh" rgba="0.752941 0.752941 0.752941 1" mesh="Link 1"/>
        </body>
      </body>
      <body name="Link 2" pos="0 0 0" quat="0.258819 0 0.965926 0">
        <site name="tau1"/>
        <inertial pos="0.0385294 -0.0274403 -7.28007e-05" quat="0.493035 0.506138 0.50707 0.49358" mass="0.734902" diaginertia="0.00048837 0.00511568 0.0049324"/>
        <joint name="Joint 2" pos="0 0 0" axis="0 -1 0" limited="true" range="-3.14 3.14"/>
        <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.752941 0.752941 0.752941 1" mesh="Link 2"/>
        <geom type="mesh" rgba="0.752941 0.752941 0.752941 1" mesh="Link 2"/>
        <body name="Link 3" pos="0.27 0 0" quat="0.5 0 -0.866025 0">
          <site name='foot imu' size='0.01' pos='0.25 0 0'/>
          <site name='contact_sensor' size='0.02' pos='.27 0 -.0205'/>
          <inertial pos="0.14221503 0.00001185 -0.0125335" quat="0.484498 0.517559 0.504851 0.492463" mass="0.108053" diaginertia="0.00001881 0.00092333 0.00091183"/>
          <joint name="Joint 3" pos="0 0 0" axis="0 -1 0" limited="true" range="-1.8295 0.7597"/>
          <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.752941 0.752941 0.752941 1" mesh="Link 3"/>
          <geom type="mesh" rgba="0.752941 0.752941 0.752941 1" mesh="Link 3"/>
        </body>
      </body>
      <body name="rw0" pos="0.0509117 -0.131539 0" quat="0.5 0.5 0.5 0.5">
        <site name="tau2"/>
        <inertial pos="0.00252832 -1.31056e-09 -0.00252832" quat="0.683245 0.621876 0.283009 -0.25759" mass="0.710071" diaginertia="0.00277002 0.00189979 0.00277002"/>
        <joint name="joint_rw0" pos="0 0 0" axis="0.707107 0 -0.707107" limited="false"/>
        <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.752941 0.752941 0.752941 1" mesh="rw0"/>
        <geom type="mesh" rgba="0.752941 0.752941 0.752941 1" mesh="rw0"/>
      </body>
      <body name="rw1" pos="-0.025456 0.055172 0" quat="0.499998 0.5 0.500002 0.5">
        <site name="tau3"/>
        <inertial pos="0.0738392 -1.30682e-09 0.0738392" quat="0.621216 0.683845 -0.257316 0.283258" mass="0.710071" diaginertia="0.00277002 0.00189979 0.00277002"/>
        <joint name="joint_rw1" pos="0 0 0" axis="-0.707107 0 -0.707107" limited="false"/>
        <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.752941 0.752941 0.752941 1" mesh="rw1"/>
        <geom type="mesh" rgba="0.752941 0.752941 0.752941 1" mesh="rw1"/>
      </body>
      <body name="rwz" pos="-0.076 0 0.0515" quat="0.5 0.5 0.5 0.5">
        <site name="tau4"/>
        <inertial pos="1.3912e-09 0.025902 1.0711e-09" quat="0.707107 0 0 0.707107" mass="0.32953" diaginertia="0.00043238 0.00082888 0.00065346"/>
        <joint name="joint_rwz" pos="0 0 0" axis="0 -1 0" limited="false"/>
        <geom type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.75294 0.75294 0.75294 1" mesh="rwz"/>
        <geom type="mesh" rgba="0.75294 0.75294 0.75294 1" mesh="rwz"/>
      </body>
    </body>
  </worldbody>

  <equality>
		<connect anchor="0.27 0 0" body1="Link 1" body2="Link 3" name="equality_constraint" solimp="10 1 0.001 0.5 2"/>
	</equality>

  <actuator>
    <motor joint='Joint 0' name='q0' gear="1 0 0 0 0 0" forcelimited="false" ctrllimited="false"/>
	</actuator>
  <actuator>
    <motor joint='Joint 2' name='q2' gear="1 0 0 0 0 0" forcelimited="false" ctrllimited="false"/>
	</actuator>
  <actuator>
    <motor joint='joint_rw0' name='rw0' gear="1 0 0 0 0 0" forcelimited="true" forcerange="-11.24 11.24" ctrllimited="false"/>
	</actuator>
  <actuator>
    <motor joint='joint_rw1' name='rw1' gear="1 0 0 0 0 0" forcelimited="true" forcerange="-11.24 11.24" ctrllimited="false"/>
	</actuator>
  <actuator>
    <motor joint='joint_rwz' name='rwz' gear="1 0 0 0 0 0" forcelimited="true" forcerange="-4 4" ctrllimited="false"/>
	</actuator>

  <contact>
    <exclude name="exclude_base_0" body1="base_link" body2="Link 0"/>
    <exclude name="exclude_base_2" body1="base_link" body2="Link 2"/>
    <exclude name="exclude_0_2" body1="Link 0" body2="Link 2"/>
    <exclude name="exclude_0_3" body1="Link 0" body2="Link 3"/>
    <exclude name="exclude_1_2" body1="Link 1" body2="Link 2"/>
    <exclude name="exclude_1_3" body1="Link 1" body2="Link 3"/>

    <exclude name="exclude_base_rw0" body1="base_link" body2="rw0"/>
    <exclude name="exclude_base_rw1" body1="base_link" body2="rw1"/>
    <exclude name="exclude_base_rwz" body1="base_link" body2="rwz"/>
    <exclude name="exclude_2_rwz" body1="Link 2" body2="rwz"/>
  </contact>

  <sensor>
    <!-- User parameter is the number of absolute encoder bits -->
    <framepos     name='base-pos' objtype='site' objname='imu'/>
    <framequat    name='base-attitude' objtype='site' objname='imu'/>
    <velocimeter  name='base-linear-velocity' site='imu'/>
    <gyro  name='base-angular-velocity' site='imu'/>
    <touch  name='contact sensor' site='contact_sensor'/>
    <actuatorfrc name='tau0' actuator='q0'/>
    <actuatorfrc name='tau1' actuator='q2'/>
    <actuatorfrc name='tau2' actuator='rw0'/>
    <actuatorfrc name='tau3' actuator='rw1'/>
    <actuatorfrc name='tau4' actuator='rwz'/>
    <force name='force0' site='tau0'/>
    <force name='force1' site='tau1'/>
    <force name='force2' site='tau2'/>
    <force name='force3' site='tau3'/>
    <force name='force4' site='tau4'/>
    <accelerometer  name='base-accelerometer' site='imu'/>
    <accelerometer  name='foot-accelerometer' site='foot imu'/>
  </sensor>

</mujoco>
